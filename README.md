# Confluence Readme Sync
This is a Github Action that uploads the README file (or any markdown file) in your repository to a Confluence page.

#### Contents
- [Overview](##overview)
- [Setup](##setup)
- [Action Parameters](##action-parameters)
- [Limitations](##limitations)
- [Future Improvements](##future-improvements)

## Overview
This is a Docker Github Action written in [Python](https://www.python.org) by [@Gabesw](https://www.github.com/gabesw) that inserts the contents of a markdown file to a certain part of a Confluence page.

## Setup
***Setup Details Here***

## Action Parameters
| Name | Description | Required | Default |
|--------|--------------|-----------|-----------|
|filepath|The file path of the markdown file to sync, relative to the root of the repository|True|README.md|
|url|The full URL of the Confluence page to sync with, including the https://|True|---|
|username|The Confluence username with which to authenticate API calls. This should be an email address.|True|---|
|token|The Confluence token with wich to authenticate API calls. This token should be accessable and/or generated by the confluence user in `username`|True|---|
|insert_start_text|A piece of HTML in the body of the Confluence page after which the markdown contents will be inserted. You can find this by writing a piece of text or creating any element in confluence and then getting the HTML code of that element from the 'view source' or 'inspect element' feature in your browser. Make sure to grab the whole tag and not just the text inside, or the action will overwrite the closing tag. Eg. use `<p>start text<p>` instead of `start text`.|True|---|
|insert_end_text|A piece of HTML in the body of the Confluence page marking the end of the section in which the markdown content will be inserted. The same guidelines as `insert_start_text` apply for getting the full HTML snippet.|True|---|
## Limitations
- Images only work with external URL paths and not local files
- Code blocks with triple backticks must have a language
- Nested elements in lists will be flattened to the top level when the markdown is converted

## Future Improvements
- Add support for local images by uploading them to an image hosting side or document hosting site such as Google Drive or an AWS S3 bucket or by directly uploading them to Confluence
- Allow code blocks with no language by mapping the language to None if not present